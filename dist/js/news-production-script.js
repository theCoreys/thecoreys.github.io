document.addEventListener("DOMContentLoaded",function(){document.getElementById("hamburger").addEventListener("click",function(){e.classList.contains("open")||e.classList.add("open")});const e=document.getElementById("menubar");document.getElementById("close-burger").addEventListener("click",function(){e.classList.remove("open")})});var path=window.location.pathname,page=path.split("/").pop();if("index.html"!=page)var audio=new Audio("../Multimedia/sound/10th_Anniversary.mp3"),on="../dist/images/sound/on.svg",off="../dist/images/sound/off.svg";document.addEventListener("DOMContentLoaded",function(){let e=document.querySelector(".speaker");e.addEventListener("click",function(){audio.paused?(e.setAttribute("src",on),audio.play()):(e.setAttribute("src",off),audio.pause())})});let liveTitle="not set",date="not set",address="not set";function loadOldShows(e){let n=new XMLHttpRequest;n.overrideMimeType("application/json"),n.open("GET","../data/oldShows.json",!0),n.onreadystatechange=function(){4==n.readyState&&"200"==n.status&&e(n.responseText)},n.send(null)}function loadUpcomingShows(e){let n=new XMLHttpRequest;n.overrideMimeType("application/json"),n.open("GET","../data/upcomingShows.json",!0),n.onreadystatechange=function(){4==n.readyState&&"200"==n.status&&e(n.responseText)},n.send(null)}loadOldShows(function(e){let n=JSON.parse(e),t=document.getElementById("live-list");for(i=0;i<n.length;i++){let e,a=document.createElement("li");a.className="linews",e=""==n[i].link?n[i].name:'<a href="'+n[i].link+'" class="list-link">'+n[i].name+"</a>",a.innerHTML=n[i].date+" - "+e+" - "+n[i].address,t.appendChild(a)}}),loadUpcomingShows(function(e){let n=JSON.parse(e),t=document.getElementById("upcoming");for(i=0;i<n.length;i++){let e,a=document.createElement("li");a.className="linews",e=""==n[i].link?n[i].name:'<a href="'+n[i].link+'" class="list-link">'+n[i].name+"</a>",a.innerHTML=n[i].date+" - "+e+" - "+n[i].address,t.appendChild(a)}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUuanMiLCJjb250ZW50TXVzaWNQbGF5ZXIuanMiLCJuZXdzLmpzIl0sIm5hbWVzIjpbImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImdldEVsZW1lbnRCeUlkIiwibWVudSIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiYWRkIiwicmVtb3ZlIiwicGF0aCIsIndpbmRvdyIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJwYWdlIiwic3BsaXQiLCJwb3AiLCJhdWRpbyIsIkF1ZGlvIiwib24iLCJvZmYiLCJzcGVha2VyIiwicXVlcnlTZWxlY3RvciIsInBhdXNlZCIsInNldEF0dHJpYnV0ZSIsInBsYXkiLCJwYXVzZSIsImxpdmVUaXRsZSIsImRhdGUiLCJhZGRyZXNzIiwibG9hZE9sZFNob3dzIiwiY2FsbGJhY2siLCJ4b2JqIiwiWE1MSHR0cFJlcXVlc3QiLCJvdmVycmlkZU1pbWVUeXBlIiwib3BlbiIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJyZXNwb25zZVRleHQiLCJzZW5kIiwibG9hZFVwY29taW5nU2hvd3MiLCJyZXNwb25zZSIsImxpdmVEYXRhIiwiSlNPTiIsInBhcnNlIiwibGlzdCIsImkiLCJsZW5ndGgiLCJsaXN0TGluayIsImxpc3RJdGVtIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImxpbmsiLCJuYW1lIiwiaW5uZXJIVE1MIiwiYXBwZW5kQ2hpbGQiXSwibWFwcGluZ3MiOiJBQUFBQSxTQUFTQyxpQkFBaUIsbUJBQW9CLFdBQzdCRCxTQUFTRSxlQUFlLGFBQzlCRCxpQkFBaUIsUUFBUyxXQVF4QkUsRUFBS0MsVUFBVUMsU0FBUyxTQUN6QkYsRUFBS0MsVUFBVUUsSUFBSSxVQUwzQixNQUFNSCxFQUFPSCxTQUFTRSxlQUFlLFdBU3ZCRixTQUFTRSxlQUFlLGdCQUNoQ0QsaUJBQWlCLFFBQVMsV0FDNUJFLEVBQUtDLFVBQVVHLE9BQU8sWUNoQjlCLElBQUlDLEtBQU9DLE9BQU9DLFNBQVNDLFNBQ3ZCQyxLQUFPSixLQUFLSyxNQUFNLEtBQUtDLE1BRTNCLEdBQVMsY0FBTkYsS0FDQyxJQUFJRyxNQUFRLElBQUlDLE1BQU0sNENBQ2xCQyxHQUFLLDhCQUNMQyxJQUFNLCtCQUVkbEIsU0FBU0MsaUJBQWlCLG1CQUFvQixXQUUxQyxJQUFJa0IsRUFBVW5CLFNBQVNvQixjQUFjLFlBQ3JDRCxFQUFRbEIsaUJBQWlCLFFBQVMsV0FDMUJjLE1BQU1NLFFBQ05GLEVBQVFHLGFBQWEsTUFBT0wsSUFDNUJGLE1BQU1RLFNBRU5KLEVBQVFHLGFBQWEsTUFBT0osS0FDNUJILE1BQU1TLGFDakJsQixJQUFJQyxVQUFZLFVBRVpDLEtBQU8sVUFFUEMsUUFBVSxVQU1kLFNBQVNDLGFBQWFDLEdBRWxCLElBQUlDLEVBQU8sSUFBSUMsZUFDZkQsRUFBS0UsaUJBQWlCLG9CQUN0QkYsRUFBS0csS0FBSyxNQUFPLHlCQUF5QixHQUMxQ0gsRUFBS0ksbUJBQXFCLFdBQ0MsR0FBbkJKLEVBQUtLLFlBQWtDLE9BQWZMLEVBQUtNLFFBRTdCUCxFQUFTQyxFQUFLTyxlQUd0QlAsRUFBS1EsS0FBSyxNQWtDZCxTQUFTQyxrQkFBa0JWLEdBRXZCLElBQUlDLEVBQU8sSUFBSUMsZUFDZkQsRUFBS0UsaUJBQWlCLG9CQUN0QkYsRUFBS0csS0FBSyxNQUFPLDhCQUE4QixHQUMvQ0gsRUFBS0ksbUJBQXFCLFdBQ0MsR0FBbkJKLEVBQUtLLFlBQWtDLE9BQWZMLEVBQUtNLFFBRTdCUCxFQUFTQyxFQUFLTyxlQUd0QlAsRUFBS1EsS0FBSyxNQXhDZFYsYUFBYSxTQUFVWSxHQUVuQixJQUFJQyxFQUFXQyxLQUFLQyxNQUFNSCxHQUV0QkksRUFBTzVDLFNBQVNFLGVBQWUsYUFFbkMsSUFBSzJDLEVBQUksRUFBR0EsRUFBSUosRUFBU0ssT0FBUUQsSUFBSyxDQUVsQyxJQUlJRSxFQUpBQyxFQUFXaEQsU0FBU2lELGNBQWMsTUFDdENELEVBQVNFLFVBQVksU0FLakJILEVBRG9CLElBQXBCTixFQUFTSSxHQUFHTSxLQUNEVixFQUFTSSxHQUFHTyxLQUVaLFlBQWNYLEVBQVNJLEdBQUdNLEtBQU8sdUJBQXlCVixFQUFTSSxHQUFHTyxLQUFPLE9BRzVGSixFQUFTSyxVQUFZWixFQUFTSSxHQUFHbkIsS0FBTyxNQUFRcUIsRUFBVyxNQUFRTixFQUFTSSxHQUFHbEIsUUFDL0VpQixFQUFLVSxZQUFZTixNQXlCekJULGtCQUFrQixTQUFVQyxHQUV4QixJQUFJQyxFQUFXQyxLQUFLQyxNQUFNSCxHQUV0QkksRUFBTzVDLFNBQVNFLGVBQWUsWUFFbkMsSUFBSzJDLEVBQUksRUFBR0EsRUFBSUosRUFBU0ssT0FBUUQsSUFBSyxDQUVsQyxJQUlJRSxFQUpBQyxFQUFXaEQsU0FBU2lELGNBQWMsTUFDdENELEVBQVNFLFVBQVksU0FLakJILEVBRG9CLElBQXBCTixFQUFTSSxHQUFHTSxLQUNEVixFQUFTSSxHQUFHTyxLQUVaLFlBQWNYLEVBQVNJLEdBQUdNLEtBQU8sdUJBQXlCVixFQUFTSSxHQUFHTyxLQUFPLE9BRzVGSixFQUFTSyxVQUFZWixFQUFTSSxHQUFHbkIsS0FBTyxNQUFRcUIsRUFBVyxNQUFRTixFQUFTSSxHQUFHbEIsUUFDL0VpQixFQUFLVSxZQUFZTiIsImZpbGUiOiJuZXdzLXByb2R1Y3Rpb24tc2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IGJ1cmdlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoYW1idXJnZXInKTtcclxuICAgIGJ1cmdlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0b2dnbGVGaWx0ZXJpbmcoKTtcclxuICAgIH0pXHJcblxyXG4gICAgY29uc3QgbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVudWJhclwiKTtcclxuXHJcbiAgICBmdW5jdGlvbiB0b2dnbGVGaWx0ZXJpbmcoKSB7XHJcbiAgICAgICAgLy9JZiBvcGVuIGNsb3NlIGl0LCBpZiBjbG9zZWQgb3BlbiBpdC5cclxuICAgICAgICBpZiAoIW1lbnUuY2xhc3NMaXN0LmNvbnRhaW5zKCdvcGVuJykpIHtcclxuICAgICAgICAgICAgbWVudS5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGVtcHR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjbG9zZS1idXJnZXJcIik7XHJcbiAgICBlbXB0eS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBtZW51LmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcclxuICAgIH0pXHJcbn0pOyIsIlxyXG52YXIgcGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcclxudmFyIHBhZ2UgPSBwYXRoLnNwbGl0KFwiL1wiKS5wb3AoKTtcclxuXHJcbmlmKHBhZ2UhPVwiaW5kZXguaHRtbFwiKXtcclxuICAgIHZhciBhdWRpbyA9IG5ldyBBdWRpbygnLi4vTXVsdGltZWRpYS9zb3VuZC8xMHRoX0Fubml2ZXJzYXJ5Lm1wMycpO1xyXG4gICAgdmFyIG9uID0gXCIuLi9kaXN0L2ltYWdlcy9zb3VuZC9vbi5zdmdcIjtcclxuICAgIHZhciBvZmYgPSBcIi4uL2Rpc3QvaW1hZ2VzL3NvdW5kL29mZi5zdmdcIjtcclxufVxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBcclxuICAgIGxldCBzcGVha2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNwZWFrZXInKTtcclxuICAgIHNwZWFrZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGF1ZGlvLnBhdXNlZCkge1xyXG4gICAgICAgICAgICBzcGVha2VyLnNldEF0dHJpYnV0ZSgnc3JjJywgb24pO1xyXG4gICAgICAgICAgICBhdWRpby5wbGF5KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc3BlYWtlci5zZXRBdHRyaWJ1dGUoJ3NyYycsIG9mZik7XHJcbiAgICAgICAgICAgIGF1ZGlvLnBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufSk7IiwiLy8gVGhlIGZlYXR1cmVkIGxpdmUncyBuYW1lLlxyXG5sZXQgbGl2ZVRpdGxlID0gXCJub3Qgc2V0XCI7XHJcbi8vIFRoZSBmZWF0dXJlZCBsaXZlJ3MgZGF0ZS5cclxubGV0IGRhdGUgPSBcIm5vdCBzZXRcIjtcclxuLy8gVGhlIGZlYXR1cmVkIGxpdmUncyBhZGRyZXNzLlxyXG5sZXQgYWRkcmVzcyA9IFwibm90IHNldFwiO1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBhIFhNTEh0dHBSZXF1ZXN0IGFuZCBsb2FkIGFzeW5jaHJvbm91c2x5IHRoZSBjb250ZW50cyBvZiBvbGRTaG93cy5qc29uLlxyXG4gKiBAcGFyYW0geyp9IGNhbGxiYWNrIFxyXG4gKi9cclxuZnVuY3Rpb24gbG9hZE9sZFNob3dzKGNhbGxiYWNrKSB7XHJcblxyXG4gICAgbGV0IHhvYmogPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgIHhvYmoub3ZlcnJpZGVNaW1lVHlwZShcImFwcGxpY2F0aW9uL2pzb25cIik7XHJcbiAgICB4b2JqLm9wZW4oJ0dFVCcsICcuLi9kYXRhL29sZFNob3dzLmpzb24nLCB0cnVlKTtcclxuICAgIHhvYmoub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh4b2JqLnJlYWR5U3RhdGUgPT0gNCAmJiB4b2JqLnN0YXR1cyA9PSBcIjIwMFwiKSB7XHJcbiAgICAgICAgICAgIC8vIFJlcXVpcmVkIHVzZSBvZiBhbiBhbm9ueW1vdXMgY2FsbGJhY2sgYXMgLm9wZW4gd2lsbCBOT1QgcmV0dXJuIGEgdmFsdWUgYnV0IHNpbXBseSByZXR1cm5zIHVuZGVmaW5lZCBpbiBhc3luY2hyb25vdXMgbW9kZS5cclxuICAgICAgICAgICAgY2FsbGJhY2soeG9iai5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB4b2JqLnNlbmQobnVsbCk7XHJcbn1cclxuXHJcblxyXG4vL0Egc2NyaXB0IHRvIGZldGNoIHRoZSBxdWl6IHF1ZXN0aW9ucyBmcm9tIHRoZSBqc29uIGZpbGUsIHNodWZsbGUgdGhlbSwgYWRkIHRoZW0gb25lIGJ5IG9uZSB0byB0aGUgZG9tLCBieSBsaXN0ZW5pbmcgdG8gdGhlIHN1Ym1pdCBldmVudCB0aGUgc3VibWl0IGV2ZW50IG9mIHRoZSBwcmV2aW91cyBvbmUuXHJcbmxvYWRPbGRTaG93cyhmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgIC8vIFBhcnNlIEpTT04gc3RyaW5nIGludG8gb2JqZWN0XHJcbiAgICBsZXQgbGl2ZURhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuICAgIC8vIFNlbGVjdCB0aGUgdW5zb3J0ZWQgbGlzdCBpbiB3aGljaCB0aGUgbGl2ZSBkYXRhIHdpbGwgYmUgYXBwZW5kZWQgdG8uXHJcbiAgICBsZXQgbGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGl2ZS1saXN0XCIpO1xyXG5cclxuICAgIGZvciAoaSA9IDA7IGkgPCBsaXZlRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vIENyZWF0ZSBhIGxpc3QgaXRlbSBmb3IgYSBsaXZlIHNob3cuXHJcbiAgICAgICAgbGV0IGxpc3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgICAgICBsaXN0SXRlbS5jbGFzc05hbWUgPSAnbGluZXdzJztcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBsaW5rIHRvIHRoZSBsaXZlJ3MgcGFnZS5cclxuICAgICAgICBsZXQgbGlzdExpbmtcclxuICAgICAgICBpZiAobGl2ZURhdGFbaV0ubGluayA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIGxpc3RMaW5rID0gbGl2ZURhdGFbaV0ubmFtZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsaXN0TGluayA9ICc8YSBocmVmPVwiJyArIGxpdmVEYXRhW2ldLmxpbmsgKyAnXCIgY2xhc3M9XCJsaXN0LWxpbmtcIj4nICsgbGl2ZURhdGFbaV0ubmFtZSArICc8L2E+JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxpc3RJdGVtLmlubmVySFRNTCA9IGxpdmVEYXRhW2ldLmRhdGUgKyBcIiAtIFwiICsgbGlzdExpbmsgKyBcIiAtIFwiICsgbGl2ZURhdGFbaV0uYWRkcmVzcztcclxuICAgICAgICBsaXN0LmFwcGVuZENoaWxkKGxpc3RJdGVtKTtcclxuICAgIH1cclxuXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBhIFhNTEh0dHBSZXF1ZXN0IGFuZCBsb2FkIGFzeW5jaHJvbm91c2x5IHRoZSBjb250ZW50cyBvZiB1cGNvbWluZ1Nob3dzLmpzb24uXHJcbiAqIEBwYXJhbSB7Kn0gY2FsbGJhY2sgXHJcbiAqL1xyXG5mdW5jdGlvbiBsb2FkVXBjb21pbmdTaG93cyhjYWxsYmFjaykge1xyXG5cclxuICAgIGxldCB4b2JqID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICB4b2JqLm92ZXJyaWRlTWltZVR5cGUoXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xyXG4gICAgeG9iai5vcGVuKCdHRVQnLCAnLi4vZGF0YS91cGNvbWluZ1Nob3dzLmpzb24nLCB0cnVlKTtcclxuICAgIHhvYmoub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh4b2JqLnJlYWR5U3RhdGUgPT0gNCAmJiB4b2JqLnN0YXR1cyA9PSBcIjIwMFwiKSB7XHJcbiAgICAgICAgICAgIC8vIFJlcXVpcmVkIHVzZSBvZiBhbiBhbm9ueW1vdXMgY2FsbGJhY2sgYXMgLm9wZW4gd2lsbCBOT1QgcmV0dXJuIGEgdmFsdWUgYnV0IHNpbXBseSByZXR1cm5zIHVuZGVmaW5lZCBpbiBhc3luY2hyb25vdXMgbW9kZS5cclxuICAgICAgICAgICAgY2FsbGJhY2soeG9iai5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB4b2JqLnNlbmQobnVsbCk7XHJcbn1cclxuXHJcblxyXG4vL0Egc2NyaXB0IHRvIGZldGNoIHRoZSBxdWl6IHF1ZXN0aW9ucyBmcm9tIHRoZSBqc29uIGZpbGUsIHNodWZsbGUgdGhlbSwgYWRkIHRoZW0gb25lIGJ5IG9uZSB0byB0aGUgZG9tLCBieSBsaXN0ZW5pbmcgdG8gdGhlIHN1Ym1pdCBldmVudCB0aGUgc3VibWl0IGV2ZW50IG9mIHRoZSBwcmV2aW91cyBvbmUuXHJcbmxvYWRVcGNvbWluZ1Nob3dzKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgLy8gUGFyc2UgSlNPTiBzdHJpbmcgaW50byBvYmplY3RcclxuICAgIGxldCBsaXZlRGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG4gICAgLy8gU2VsZWN0IHRoZSB1bnNvcnRlZCBsaXN0IGluIHdoaWNoIHRoZSBsaXZlIGRhdGEgd2lsbCBiZSBhcHBlbmRlZCB0by5cclxuICAgIGxldCBsaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1cGNvbWluZ1wiKTtcclxuXHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGl2ZURhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyBDcmVhdGUgYSBsaXN0IGl0ZW0gZm9yIGEgbGl2ZSBzaG93LlxyXG4gICAgICAgIGxldCBsaXN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICAgICAgbGlzdEl0ZW0uY2xhc3NOYW1lID0gJ2xpbmV3cyc7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgbGluayB0byB0aGUgbGl2ZSdzIHBhZ2UuXHJcbiAgICAgICAgbGV0IGxpc3RMaW5rXHJcbiAgICAgICAgaWYgKGxpdmVEYXRhW2ldLmxpbmsgPT0gXCJcIikge1xyXG4gICAgICAgICAgICBsaXN0TGluayA9IGxpdmVEYXRhW2ldLm5hbWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGlzdExpbmsgPSAnPGEgaHJlZj1cIicgKyBsaXZlRGF0YVtpXS5saW5rICsgJ1wiIGNsYXNzPVwibGlzdC1saW5rXCI+JyArIGxpdmVEYXRhW2ldLm5hbWUgKyAnPC9hPic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsaXN0SXRlbS5pbm5lckhUTUwgPSBsaXZlRGF0YVtpXS5kYXRlICsgXCIgLSBcIiArIGxpc3RMaW5rICsgXCIgLSBcIiArIGxpdmVEYXRhW2ldLmFkZHJlc3M7XHJcbiAgICAgICAgbGlzdC5hcHBlbmRDaGlsZChsaXN0SXRlbSk7XHJcbiAgICB9XHJcblxyXG59KTtcclxuXHJcblxyXG4vKiBHb29nbGUgbWFwcyBub3cgUkVRVUlSRVMgYSBjcmVkaXQgY2FyZCBhbmQgd2lsbCB3b3JrIG9ubHkgZm9yIGZyZWUgb25seSBmb3IgdGhlIGZpcnN0ICQyMDAgbW9udGhseSBjcmVkaXQuXHJcbiBBZnRlciB0aGF0IHlvdSBwYXkgb3Igd2FpdCB0aWxsIG5leHQgbW9udGguIFxyXG5cclxuIC8vIEdldCB0aGUgbGF0ZXN0IGxpdmUncyB0aXRsZS5cclxuICAgIGxpdmVUaXRsZT1saXZlRGF0YVtsaXZlRGF0YS5sZW5ndGgtMV0ubmFtZTtcclxuICAgIGNvbnNvbGUubG9nKGxpdmVUaXRsZSk7XHJcbiAgICAvLyBHZXQgdGhlIGxhdGVzdCBsaXZlJ3MgZGF0ZS5cclxuICAgIGRhdGU9bGl2ZURhdGFbbGl2ZURhdGEubGVuZ3RoLTFdLmRhdGU7XHJcbiAgICAvLyBHZXQgdGhlIGxhdGVzdCBsaXZlJ3MgYWRkcmVzcy5cclxuICAgIGFkZHJlc3M9bGl2ZURhdGFbbGl2ZURhdGEubGVuZ3RoLTFdLmFkZHJlc3M7XHJcbiAgICBcclxuIGxldCBtYXA7XHJcblxyXG4gLy8gQ3JlYXRlIGEgbmV3IGJsYW5rIGFycmF5IGZvciBhbGwgdGhlIGxpc3RpbmcgbWFya2Vycy5cclxuIGxldCBtYXJrZXJzID0gW107XHJcbiBsZXQgbGl2ZUxhdExuZzsgLy8gVXNlZCB0byBzdG9yZSB0aGUgbGF0LWxuZyBvZiB0aGUgbGl2ZSdzIGxvY2F0aW9uLlxyXG4gXHJcbmZ1bmN0aW9uIGluaXRNYXAoKSB7XHJcblxyXG4gICAgbGV0IG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpLCB7XHJcbiAgICAgICAgem9vbTogNyxcclxuICAgICAgICBjZW50ZXI6IHtcclxuICAgICAgICAgICAgbGF0OiAzOC4xMjg4MzI3LFxyXG4gICAgICAgICAgICBsbmc6IDIyLjIzODI0NzFcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIGxldCBnZW9jb2RlciA9IG5ldyBnb29nbGUubWFwcy5HZW9jb2RlcigpO1xyXG4gICAgXHJcbiAgICBcclxuICAgIC8vIEdlb2NvZGUgZ2l2ZW4gYWRkcmVzcyBhbmQgc2V0IGl0IHRvIHRoZSBsaXZlTGF0TG5nIHBhcmFtZXRlci5cclxuICAgIGdlb2NvZGVBZGRyZXNzKGdlb2NvZGVyLCBtYXAsIGFkZHJlc3MpO1xyXG4gICAgY29uc29sZS5sb2coJ1RoZSBsYXQtbG5nIGZvcm1hdCB0YWtlbiBmcm9tIHRoZSBnZW9jb2RlQWRkcmVzcygpIGZ1bmMgaXM6JyArIGxpdmVMYXRMbmcpO1xyXG5cclxuICAgIC8vIENyZWF0ZSBhIHNpbmdsZSBtYXJrZXIgZm9yIHRoZSBsYXRlc3QgbGl2ZSdzIGxvY2F0aW9uIG9uIGluaXRpYWxpemUuXHJcbiAgICBsZXQgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XHJcbiAgICAgICAgcG9zaXRpb246IGxpdmVMYXRMbmcsXHJcbiAgICAgICAgbWFwOiBtYXAsXHJcbiAgICAgICAgdGl0bGU6IHRpdGxlLFxyXG4gICAgICAgIGFuaW1hdGlvbjogZ29vZ2xlLm1hcHMuQW5pbWF0aW9uLkRST1AsXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDcmVhdGUgYSBzaW5nbGUgaW5mb3dpbmRvdyB0aGF0IHdpbGwgYXBwZWFyIG9uIHRoZSBtYXJrZXIuXHJcbiAgICBsZXQgbGFyZ2VJbmZvd2luZG93ID0gbmV3IGdvb2dsZS5tYXBzLkluZm9XaW5kb3coKTtcclxuXHJcbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHBvcHVsYXRlcyB0aGUgaW5mb3dpbmRvdyB3aGVuIHRoZSBtYXJrZXIgaXMgY2xpY2tlZC5cclxuICAgIGZ1bmN0aW9uIHBvcHVsYXRlSW5mb1dpbmRvdyhtYXJrZXIsIGluZm93aW5kb3cpIHtcclxuICAgICAgICAvLyBDaGVjayB0byBtYWtlIHN1cmUgdGhlIGluZm93aW5kb3cgaXMgbm90IGFscmVhZHkgb3BlbmVkIG9uIHRoaXMgbWFya2VyLlxyXG4gICAgICAgIGlmIChpbmZvd2luZG93Lm1hcmtlciAhPSBtYXJrZXIpIHtcclxuICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIGluZm93aW5kb3cgY29udGVudCB0byBnaXZlIHRoZSBzdHJlZXR2aWV3IHRpbWUgdG8gbG9hZC5cclxuICAgICAgICAgICAgLy9pbmZvd2luZG93LnNldENvbnRlbnQoJycpO1xyXG4gICAgICAgICAgICBpbmZvd2luZG93Lm1hcmtlciA9IG1hcmtlcjtcclxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBtYXJrZXIgcHJvcGVydHkgaXMgY2xlYXJlZCBpZiB0aGUgaW5mb3dpbmRvdyBpcyBjbG9zZWQuXHJcbiAgICAgICAgICAgIGluZm93aW5kb3cuYWRkTGlzdGVuZXIoJ2Nsb3NlY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpbmZvd2luZG93Lm1hcmtlciA9IG51bGw7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBsZXQgc3RyZWV0Vmlld1NlcnZpY2UgPSBuZXcgZ29vZ2xlLm1hcHMuU3RyZWV0Vmlld1NlcnZpY2UoKTtcclxuICAgICAgICAgICAgbGV0IHJhZGl1cyA9IDE1MDtcclxuICAgICAgICAgICAgLy8gSW4gY2FzZSB0aGUgc3RhdHVzIGlzIE9LLCB3aGljaCBtZWFucyB0aGUgcGFubyB3YXMgZm91bmQsIGNvbXB1dGUgdGhlXHJcbiAgICAgICAgICAgIC8vIHBvc2l0aW9uIG9mIHRoZSBzdHJlZXR2aWV3IGltYWdlLCB0aGVuIGNhbGN1bGF0ZSB0aGUgaGVhZGluZywgdGhlbiBnZXQgYVxyXG4gICAgICAgICAgICAvLyBwYW5vcmFtYSBmcm9tIHRoYXQgYW5kIHNldCB0aGUgb3B0aW9uc1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRTdHJlZXRWaWV3KGRhdGEsIHN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PSBnb29nbGUubWFwcy5TdHJlZXRWaWV3U3RhdHVzLk9LKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5lYXJTdHJlZXRWaWV3TG9jYXRpb24gPSBkYXRhLmxvY2F0aW9uLmxhdExuZztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGhlYWRpbmcgPSBnb29nbGUubWFwcy5nZW9tZXRyeS5zcGhlcmljYWwuY29tcHV0ZUhlYWRpbmcoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5lYXJTdHJlZXRWaWV3TG9jYXRpb24sIG1hcmtlci5wb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mb3dpbmRvdy5zZXRDb250ZW50KCc8ZGl2PicgKyBtYXJrZXIudGl0bGUgKyAnPC9kaXY+PGRpdiBpZD1cInBhbm9cIj48L2Rpdj4nKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGFub3JhbWFPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmVhclN0cmVldFZpZXdMb2NhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG92OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkaW5nOiBoZWFkaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGl0Y2g6IDMwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYW5vcmFtYSA9IG5ldyBnb29nbGUubWFwcy5TdHJlZXRWaWV3UGFub3JhbWEoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bhbm8nKSwgcGFub3JhbWFPcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwYW5vcmFtYSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZm93aW5kb3cuc2V0Q29udGVudCgnPGRpdj4nICsgbWFya2VyLnRpdGxlICsgJzwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdj5ObyBTdHJlZXQgVmlldyBGb3VuZDwvZGl2PicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFVzZSBzdHJlZXR2aWV3IHNlcnZpY2UgdG8gZ2V0IHRoZSBjbG9zZXN0IHN0cmVldHZpZXcgaW1hZ2Ugd2l0aGluXHJcbiAgICAgICAgICAgIC8vIDUwIG1ldGVycyBvZiB0aGUgbWFya2VycyBwb3NpdGlvblxyXG4gICAgICAgICAgICBzdHJlZXRWaWV3U2VydmljZS5nZXRQYW5vcmFtYUJ5TG9jYXRpb24obWFya2VyLnBvc2l0aW9uLCByYWRpdXMsIGdldFN0cmVldFZpZXcpO1xyXG4gICAgICAgICAgICAvLyBPcGVuIHRoZSBpbmZvd2luZG93IG9uIHRoZSBjb3JyZWN0IG1hcmtlci5cclxuICAgICAgICAgICAgaW5mb3dpbmRvdy5vcGVuKG1hcCwgbWFya2VyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gIGNyZWF0ZSBhbiBFVkVOVCBMSVNURU5FUiBzbyB0aGF0IHRoZSBpbmZvd2luZG93IG9wZW5zIHdoZW5cclxuICAgIC8vIHRoZSBtYXJrZXIgaXMgY2xpY2tlZCFcclxuICAgIG1hcmtlci5hZGRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcG9wdWxhdGVJbmZvV2luZG93KHRoaXMsIGxhcmdlSW5mb3dpbmRvdyk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VvY29kZUFkZHJlc3MoZ2VvY29kZXIsIHJlc3VsdHNNYXAsIGFkZHJlc3MpIHtcclxuICAgIGdlb2NvZGVyLmdlb2NvZGUoe1xyXG4gICAgICAgICdhZGRyZXNzJzogYWRkcmVzc1xyXG4gICAgfSwgZnVuY3Rpb24gKHJlc3VsdHMsIHN0YXR1cykge1xyXG4gICAgICAgIGlmIChzdGF0dXMgPT09IGdvb2dsZS5tYXBzLkdlb2NvZGVyU3RhdHVzLk9LKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdHNNYXAuc2V0Q2VudGVyKHJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb24pO1xyXG4gICAgICAgICAgICAvLyBTaG93IHRoZSBmaXJzdCByZXN1bHQncyBmb3JtYXR0ZWQgYWRkcmVzcywgYW5kIExPQ0FUSU9OLlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRoZSBGb3JtYXR0ZWQgQWRkcmVzcyBpczpcIiArIHJlc3VsdHNbMF0uZm9ybWF0dGVkX2FkZHJlc3MpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRoZSBMb2NhdGlvbiBpc1wiICsgcmVzdWx0c1swXS5nZW9tZXRyeS5sb2NhdGlvbik7XHJcbiAgICAgICAgICAgIGxpdmVMYXRMbmcgPSByZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFsZXJ0KCdHZW9jb2RlIHdhcyBub3Qgc3VjY2Vzc2Z1bCBmb3IgdGhlIGZvbGxvd2luZyByZWFzb246ICcgKyBzdGF0dXMpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbiovIl19
